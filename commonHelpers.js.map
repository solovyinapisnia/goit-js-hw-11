{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import { cssLoader } from '../main';\n\nexport function fetchImages(searchQueryResult) {\n  cssLoader.classList.add('loader');\n  const BASE_URL = 'https://pixabay.com/api/';\n  const q = searchQueryResult.trim().split(',').join('+');\n  const params = new URLSearchParams({\n    key: '42946583-b9bd64904b8b2d582b051d84e',\n    q: q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url)\n    .then(res => res.json())\n    .catch(error =>\n      iziToast.show({\n        title: 'ERROR:',\n        titleColor: 'red',\n        message: 'Server error!',\n        messageColor: 'red',\n        color: 'red',\n        position: 'topRight',\n      })\n    );\n}","import { gallery } from '../main';\n\nexport function renderGallery(data) {\n  const createMarkup = data.hits\n    .map(hit => {\n      const {\n        id,\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = hit;\n      return `\n    <li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-image\" id=${id} src=\"${webformatURL}\" alt=\"${tags}\"/>\n        </a>\n        <div class=\"gallery-item-info\">\n          <div class=\"item-info-atr\">\n          <h3>Likes</h3>\n          <p>${likes}</p>\n          </div>\n          <div class=\"item-info-atr\">\n          <h3>Views</h3>\n          <p>${views}</p>\n          </div>\n          <div class=\"item-info-atr\">\n          <h3>Comments</h3>\n          <p>${comments}</p>\n          </div>\n          <div class=\"item-info-atr\">\n          <h3>Downloads</h3>\n          <p>${downloads}</p>\n          </div>\n        </div>\n    </li>\n    `;\n    })\n    .join('');\n\n  gallery.insertAdjacentHTML('afterbegin', createMarkup);\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { renderGallery } from \"./js/render-function\";\n\nexport const gallery = document.querySelector('.gallery');\nconst searchForm = document.querySelector('#search-form');\nexport const cssLoader = document.querySelector('#loader');\n\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  gallery.innerHTML = '';\n  const searchQueryResult = event.target.elements.query.value;\n  if (searchQueryResult == '') {\n    iziToast.show({\n      title: 'Warning:',\n      titleColor: 'red',\n      message: `The search field is empty. Please try again!`,\n      messageColor: 'red',\n      color: 'yellow',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  if (searchQueryResult) {\n    fetchImages(searchQueryResult)\n      .then(data => {\n        if (data.totalHits <= 0) {\n          iziToast.show({\n            title: 'ERROR:',\n            titleColor: 'red',\n            message:\n              'Sorry, there are no images matching your search query. Please try again.',\n            messageColor: 'red',\n            color: 'red',\n            position: 'topRight',\n          });\n        } else {\n          renderGallery(data);\n          cssLoader.classList.remove('loader');\n        }\n      })\n      .then(() => {\n        const lightbox = new SimpleLightbox('.gallery a', {\n          captionsData: 'alt',\n          captionPosition: 'bottom',\n          captionDelay: 250,\n        }).refresh();\n      })\n      .catch(error => console.log(error));\n  }\n  searchForm.reset();\n});"],"names":["fetchImages","searchQueryResult","cssLoader","BASE_URL","q","params","url","res","error","renderGallery","data","createMarkup","hit","id","webformatURL","largeImageURL","tags","likes","views","comments","downloads","gallery","searchForm","event","iziToast","SimpleLightbox"],"mappings":"6vBAEO,SAASA,EAAYC,EAAmB,CAC7CC,EAAU,UAAU,IAAI,QAAQ,EAChC,MAAMC,EAAW,2BACXC,EAAIH,EAAkB,KAAM,EAAC,MAAM,GAAG,EAAE,KAAK,GAAG,EAChDI,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKE,EAAM,GAAGH,CAAQ,IAAIE,CAAM,GAEjC,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAOA,EAAI,MAAM,EACtB,MAAMC,GACL,SAAS,KAAK,CACZ,MAAO,SACP,WAAY,MACZ,QAAS,gBACT,aAAc,MACd,MAAO,MACP,SAAU,UAClB,CAAO,CACP,CACA,CCzBO,SAASC,EAAcC,EAAM,CAClC,MAAMC,EAAeD,EAAK,KACvB,IAAIE,GAAO,CACV,KAAM,CACJ,GAAAC,EACA,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGR,EACJ,MAAO;AAAA;AAAA,wCAE2BG,CAAa;AAAA,0CACXF,CAAE,SAASC,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,eAKhEC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAK;AAAA;AAAA;AAAA;AAAA,eAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,eAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAKxB,CAAK,EACA,KAAK,EAAE,EAEVC,EAAQ,mBAAmB,aAAcV,CAAY,CACvD,CCpCO,MAAMU,EAAU,SAAS,cAAc,UAAU,EAClDC,EAAa,SAAS,cAAc,cAAc,EAC3CpB,EAAY,SAAS,cAAc,SAAS,EAEzDoB,EAAW,iBAAiB,SAAUC,GAAS,CAC7CA,EAAM,eAAc,EACpBF,EAAQ,UAAY,GACpB,MAAMpB,EAAoBsB,EAAM,OAAO,SAAS,MAAM,MACtD,GAAItB,GAAqB,GAAI,CAC3BuB,EAAS,KAAK,CACZ,MAAO,WACP,WAAY,MACZ,QAAS,+CACT,aAAc,MACd,MAAO,SACP,SAAU,UAChB,CAAK,EACD,MACD,CAEGvB,GACFD,EAAYC,CAAiB,EAC1B,KAAKS,GAAQ,CACRA,EAAK,WAAa,EACpBc,EAAS,KAAK,CACZ,MAAO,SACP,WAAY,MACZ,QACE,2EACF,aAAc,MACd,MAAO,MACP,SAAU,UACtB,CAAW,GAEDf,EAAcC,CAAI,EAClBR,EAAU,UAAU,OAAO,QAAQ,EAE7C,CAAO,EACA,KAAK,IAAM,CACO,IAAIuB,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,GACf,CAAA,EAAE,QAAU,CACrB,CAAO,EACA,MAAMjB,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEtCc,EAAW,MAAK,CAClB,CAAC"}